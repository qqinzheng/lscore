/*!  2017-02-20 */

!function(a){"use strict";function b(){}function c(a,b){for(var c in a)b[c]=a[c]}a.LSBaseClass||(a.LSBaseClass=b,b.prototype.version="0.0.1",b.extend=function(a,b){var d=a.prototype;return a.prototype=new b,a.prototype.constructor=a,a.prototype.__base=a.prototype,c(d,a.prototype),a},b.driver=function(a){b.extend(a,this)},b.prototype.exports=function(a,b){if(null==a)throw new Error("clouser 不能为null");if(!Lsmain.type.isObject(a))throw new Error("clouser 必须为对象类型");return function(){var c=Lsmain.utils.argumentArray(arguments);return Lsmain.utils.apply(a,a[b],c)}},b.prototype.wraps=function(a,b){var c=Lsmain.type;if(!c.isObject2(a))throw new Error("内部对象inner,并且为object类型");b=1==arguments.length?Lsmain.utils.ofKeys(a,"Function"):Lsmain.utils.ensureArray(b);for(var d=this,e=null,f=0,g=b.length;g>f;f++){if(e=b[f],!c.isString(e))throw new Error(e+" 不是一个方法名称");d[e]=this.exports(a,e)}})}(window),function(a){"use strict";if(!a.Lsmain){var b=function(){};a.LSBaseClass.driver(b),a.Lsmain=a.LSApplication=new b,a.Lsmain.schemaUrl=function(a){return(a||"").replace(/(https:|http:)/,"")},b.prototype.BaseClass=LSBaseClass}}(window),function(a,b,c){"use strict";function d(){}b.driver(d),a.type=new d,d.prototype.isType=function(a,b){return Object.prototype.toString.call(a)=="[object "+b+"]"},d.prototype.getTypeNameOfObj=function(a){return Object.prototype.toString.call(a).replace("[object ","").replace("]","")},d.prototype.isClass=function(a,b){return this.isObject(a)?a instanceof b:this.isFunction(a)?a.prototype instanceof b:!1},d.prototype.isArray=function(a){return this.isType(a,"Array")},d.prototype.isFunction=function(a){return this.isType(a,"Function")},d.prototype.isObject=function(a){return this.isType(a,"Object")},d.prototype.isBoolean=function(a){return this.isType(a,"Boolean")},d.prototype.isDate=function(a){return this.isType(a,"Date")},d.prototype.isString=function(a){return this.isType(a,"String")},d.prototype.isNumber=function(a){return this.isType(a,"Number")},d.prototype.isObject2=function(a){return null==a?!1:this.isObject(a)}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}b.driver(d),a.string=new d,d.prototype.ensure=function(a,b){return this.isString(a)?this.isNullOrWhiteSpace(a)?b:a:b},d.prototype.format=function(b,c,d,e){if(!a.type.isString(b))return b;var f=Array.prototype.slice.call(arguments,1);return b=b.replace(/\{\d+\}/g,function(a){var b=f[a.slice(1,a.length-1)];return null==b?a:b})},d.prototype.format2=function(a,b){return a&&(b=b||[],a=a.replace(/\{\d+\}/g,function(a){var c=b[a.slice(1,a.length-1)];return null==c?a:c})),a},d.prototype.startsWith=function(a,b,c){return this.isNullOrEmpty(a)||this.isNullOrEmpty(b)?!1:c?a.substring(0,b.length).toLowerCase()===b.toLowerCase():a.substring(0,b.length)===b},d.prototype.endsWith=function(a,b,c){return this.isNullOrEmpty(a)||this.isNullOrEmpty(b)?!1:c?a.substring(a.length-b.length).toLowerCase()===b.toLowerCase():a.substring(a.length-b.length)===b},d.prototype.trim=function(a){return a?this.trimRight(this.trimLeft(a)):""},d.prototype.trimAll=function(a){return a?a.replace(/\s+/g,""):""},d.prototype.trimLeft=function(a){return a?a.replace(/^\s+/g,""):""},d.prototype.trimRight=function(a){return a?a.replace(/\s%/g,""):""},d.prototype.trimStart=function(a,b,c){return this.startsWith(a,b,c)?a.substring(b.length):a},d.prototype.trimEnd=function(a,b,c){return this.endsWith(a,b,c)?a.substring(0,a.length-b.length):a},d.prototype.isNullOrEmpty=function(a){return!(null!==a&&""!==a&&void 0!==a)},d.prototype.isNullOrEmptyAny=function(b,c,d){var e=a.utils.argumentArray(arguments);return this.isNullOrEmptyArrayOne(e)},d.prototype.isNullOrEmptyArrayOne=function(b){var c=this,d=a.array.filter(b,function(a){return c.isNullOrEmpty(a)});return d.length>0},d.prototype.isNullOrWhiteSpace=function(a){return this.isNullOrEmpty(a)?!0:""===this.trimAll(a.toString())},d.prototype.isNullOrWhiteSpaceAny=function(b,c,d){var e=a.utils.argumentArray(arguments);return this.isNullOrWhiteSpaceArrayOne(e)},d.prototype.isNullOrWhiteSpaceArrayOne=function(b){var c=this,d=a.array.filter(b,function(a){return c.isNullOrWhiteSpace(a)});return d.length>0},d.prototype.equals=function(a,b,c){return c===!0?(a||"").toString().toLowerCase()===(b||"").toString().toLowerCase():a===b},d.prototype.undef=function(a,b){return this.isNullOrWhiteSpace(a)?b:a},d.prototype.isString=function(a){return"[object String]"===Object.prototype.toString.apply(a)},d.prototype.padLeft=function(a,b){return a=(a||"").toString(),a.length<b?this.padLeft("0"+a,b):a},d.prototype.replace=function(a,b,c){if(a=(a||"").toString(),this.isNullOrWhiteSpace(b))return a;if(a=a.replace(b,c),b!==c)for(;a.indexOf(b)>-1;)a=a.replace(b,c);return a},d.prototype.replaces=function(b,c){c=a.utils.ensureArray(c);for(var d=null,e=0,f=c.length;f>e;e++)d=c[e],b=this.replace(b,d.req,d.after);return b},d.prototype.ensureEndWiths=function(a,b){return a=a||"",this.endsWith(a,b)||(a+=b),a}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}function e(a){return!g.isNullOrWhiteSpace(a)}b.driver(d),a.array=new d;var f=a.type,g=a.string;d.prototype.ensureArray=function(a){return f.isArray(a)?a:null!=a?[a]:[]},d.prototype.mapDictionary=function(a,b,c){a=this.ensureArray(a);for(var d={},e=null,h=null,i=0,j=a.length;j>i;i++)h=a[i],e=h[b],g.isNullOrWhiteSpace(c)?d[e]=h:f.isFunction(c)?c(h)&&(d[e]=h):c==e&&(d[e]=h);return d},d.prototype.mapDictionary2=function(a,b,c,d){a=this.ensureArray(a);for(var e,h={},i=null,j=null,k=0,l=a.length;l>k;k++)j=a[k],i=j[b],e=j[c],g.isNullOrWhiteSpace(d)?h[i]=e:f.isFunction(d)?d(j)&&(h[i]=e):d==i&&(h[i]=e);return h},d.prototype.arrayJoin=function(a,b,c){return this.valuesArray(a,b).join(c)},d.prototype.valuesArray=function(a,b,c,d){a=this.ensureArray(a);for(var e=[],f=null,h=0,i=a.length;i>h;h++)f=a[h][b],!d&&g.isNullOrEmpty(f)||c&&e.indexOf(f)>-1||e.push(f);return e},d.prototype.each=function(a,b){if(a=this.ensureArray(a),a.length>500)return this.blockEach(a,b);for(var c=0,d=a.length;d>c&&b(a[c],c)!==!1;c++);},d.prototype.blockEach=function(a,b){if(f.isFunction(b)){a=this.ensureArray(a);var c=a.length,d=Math.floor(c/8),e=c%8,g=0;if(e>0)do b(a[g++],g);while(--e>0);for(var h=!1,i=function(a,c){h||(h=b(a,c-1)===!1)};d>0&&(i(a[g++],g),i(a[g++],g),i(a[g++],g),i(a[g++],g),i(a[g++],g),i(a[g++],g),i(a[g++],g),i(a[g++],g),!h);)d--;b=null}},d.prototype.indexOf=function(a,b){var c=-1;return a=this.ensureArray(a),a.indexOf?c=a.indexOf(b):this.each(a,function(a,d){return a==b?(c=d,!1):void 0}),c},d.prototype.contains=function(a,b){return this.indexOf(a,b)>-1},d.prototype.filter=function(a,b){var c=[];return a=this.ensureArray(a),a.filter?c=a.filter(b):this.each(a,function(d,e){b.call(a,d,e)===!0&&c.push(d)}),c},d.prototype.filterEmpty=function(a){return this.filter(a,e)},d.prototype.arrayQuerySplice=function(a,b){a=this.ensureArray(a);var c=[],d=[];return this.each(a,function(a){b(a)?d.push(a):c.push(a)}),a.length=0,a.push.apply(a,c),d},d.prototype.isEmptyArray=function(b){return a.type.isArray(b)?b.length<1:!0},d.prototype.sumOf=function(a,b){for(var c=this.valuesArray(a,b,!1,!1),d=0,e=0,f=c.length;f>e;e++)d+=Number(c[e]);return d},d.prototype.productOf=function(a,b){for(var c=this.valuesArray(a,b,!1,!1),d=1,e=0,f=c.length;f>e;e++)d*=Number(c[e]);return d}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}function e(a,b,c,d,e,f,g,h,i){var j={"M+":c,"d+":d,"h+":e,"m+":f,"s+":g,"q+":i,S:h};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(b+"").substr(4-RegExp.$1.length)));for(var k in j)new RegExp("("+k+")").test(a)&&(a=a.replace(RegExp.$1,1===RegExp.$1.length?j[k]:("00"+j[k]).substr((""+j[k]).length)));return a}var f=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];b.driver(d),a.date=new d;var g=a.type;d.prototype.parse=function(a){g.isString(a)||(a=a.toString());var b=a.substring(0,4),c=a.substring(4,6),d=a.substring(6);return this.convert(b+"-"+c+"-"+d)},d.prototype.format=function(a,b){a=this.convert(a);var c={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var d in c)new RegExp("("+d+")").test(b)&&(b=b.replace(RegExp.$1,1===RegExp.$1.length?c[d]:("00"+c[d]).substr((""+c[d]).length)));return b},d.prototype.isDate=function(a){return g.isDate(a)},d.prototype.convert=function(a){if(this.isDate(a))return a;if(g.isString(a)&&isNaN(a)){a=a.replace(/-/g,"/");var b=a.match(/(\d+)+/g);return new Date(b[0],parseInt(b[1])-1,b[2]||"",b[3]||"",b[4]||"",b[5]||"",b[6]||"")}return new Date(Number(a))},d.prototype.diff=function(a,b,c){a=this.convert(a),b=this.convert(b);var d=0;switch(c){case"ss":d=b.getTime()-a.getTime();break;case"s":d=(b.getTime()-a.getTime())/1e3;break;case"mi":d=(b.getTime()-a.getTime())/6e4;break;case"h":d=(b.getTime()-a.getTime())/36e5;break;case"d":d=(b.getTime()-a.getTime())/864e5;break;case"m":d=b.getMonth()+1+12*(b.getFullYear()-a.getFullYear())-(a.getMonth()+1);break;case"y":d=b.getFullYear()-a.getFullYear();break;default:d=0}return parseInt(d)},d.prototype.dateAdd=function(a,b,c){switch(a=this.convert(a),c){case"ss":return new Date(a.getTime()+b);case"s":return new Date(a.getTime()+1e3*b);case"mi":return new Date(a.getTime()+6e4*b);case"h":return new Date(a.getTime()+36e5*b);case"d":return new Date(a.getTime()+864e5*b);case"m":return new Date(a.getFullYear(),a.getMonth()+b,a.getDate(),a.getHours(),a.getSeconds(),a.getMilliseconds());case"y":return new Date(a.getFullYear()+b,a.getMonth(),a.getDate(),a.getHours(),a.getSeconds(),a.getMilliseconds());default:return a}},d.prototype.addMilliseconds=function(a,b){return this.dateAdd(a,b,"ss")},d.prototype.addSeconds=function(a,b){return this.dateAdd(a,b,"s")},d.prototype.addMinutes=function(a,b){return this.dateAdd(a,b,"mi")},d.prototype.addHours=function(a,b){return this.dateAdd(a,b,"h")},d.prototype.addDays=function(a,b){return this.dateAdd(a,b,"d")},d.prototype.addMonths=function(a,b){return this.dateAdd(a,b,"m")},d.prototype.addYears=function(a,b){return this.dateAdd(a,b,"y")},d.prototype.maxDayOfMonth=function(a){a=this.convert(a);var b=this.addMonths(a,1);return this.diff(a,b,"d")},d.prototype.dayOfWeek=function(a){return a=this.convert(a),f[a.getDay()]},d.prototype.clone=function(a){return a=this.convert(a),new Date(a.getTime())},d.prototype.datePart=function(a,b){switch(a=this.convert(a),b){case"ss":return a.getMilliseconds();case"s":return a.getSeconds();case"mi":return a.getMinutes();case"h":return a.getHours();case"d":return a.getDate();case"m":return a.getMonth()+1;case"y":return a.getFullYear();case"w":return a.getDay();default:return null}},d.prototype.daysInYear=function(a){a=this.convert(a);var b=new Date(a.getFullYear(),0,0,0,0,0);return this.diff(b,a,"d")},d.prototype.weeksInYears=function(a){a=this.convert(a);var b=new Date(a.getFullYear(),0,0,0,0,0),c=b.getDay();c=0===c?7:c,b=this.addDays(b,7-c);var d=this.diff(b,a,"d"),e=parseInt(d/7);return d%7!==0&&(e+=1),e+1},d.prototype.toUnixTimeStamp=function(a){return a=this.convert(a),Math.round(a.getTime()/1e3)},d.prototype.unixTimeStampToDate=function(b){var c=a.utils.ensureDecimal(b);return new Date(1e3*c)},d.prototype.countHour=function(a){var b=parseInt(a/1e3/60/60,10),c=parseInt(a/1e3/60%60,10),d=parseInt(a/1e3%60);return e("hh:mm:ss",0,0,0,b,c,d,0,0)},d.prototype.countDays=function(a){var b=parseInt(a/1e3/60/60/24,10),c=parseInt(a/1e3/60/60%24,10),d=parseInt(a/1e3/60%60,10),f=parseInt(a/1e3%60);return e("dd天hh:mm:ss",0,0,b,c,d,f,0,0)}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){function d(){}function e(a,b){return null==a||null==b?!1:a==b}b.driver(d),a.utils=new d;var f=a.type,g=a.string,h=a.array;d.prototype.ifn=function(a,b){if(null===a||void 0===a)return b;if("string"==typeof a){var c=""===a||""===a.replace(/\s/g,"");return c?b:a}return a},d.prototype.undef=function(a,b){return null===a||void 0===a?b:a},d.prototype.log=function(a,b,c,d){},d.prototype.argumentArray=function(a,b,c){return(a&&void 0===c||null===c)&&(c=a.length),Array.prototype.slice.call(a,b,c)},d.prototype.ensureArray=function(a){return h.ensureArray(a)},d.prototype.ensureDecimal=function(a,b){return isNaN(a)||null===a||""===a?this.ensureDecimal(b,0):f.isNumber(a)?a:Number(a)},d.prototype.mul=function(a,b,c){for(var d=1,e=!1,f=Array.prototype.splice.call(arguments,0,arguments.length),g=0,h=f.length;h>g;g++)d*=this.ensureDecimal(f[g],1),e=!0;return e||(d=0),d},d.prototype.smartCallback=function(a){return a[a.length-1]},d.prototype.getKeys=function(a,b){if(Object.keys)return Object.keys(a);var c=[];for(var d in a)c.push(d);return c},d.prototype.ofKeys=function(b,c){var d=[],e=a.type;for(var f in b)e.isType(b[f],c)&&d.push(f);return d},d.prototype.call=function(a,b,c,d){if(f.isFunction(b)&&a){var e=Array.prototype.splice.call(arguments,2,arguments.length),g=b.apply(a,e);return e=a=b=c=d=null,g}},d.prototype.apply=function(a,b,c){if(f.isFunction(b)&&a){var d=b.apply(a,c);return a=b=null,d}},d.prototype.getCall=function(a,b,c){if("function"!=typeof b)throw new Error("handler must be a function !");var d=function(){a=a||this;var d=Array.prototype.slice.call(arguments,0);d.push(c),a.___caller=this;var e=b.apply(a,d);return a===window?window.___caller=null:delete a.___caller,e};return d},d.prototype.getOnceCall=function(a,b,c){if("function"!=typeof b)throw new Error("handler must be a function !");var d=!1,e=function(){if(d===!0)return void(b=null);d=!0,a=a||window;var e=Array.prototype.slice.call(arguments,0);return e.push(c),b.apply(a,e)};return e},d.prototype.valuesObject=function(a,b){var c=[];if(a&&b){b=this.ensureArray(b);for(var d=0,e=b.length;e>d;d++)c.push(a[b[d]])}return c},d.prototype.htmlEncode=function(a){var b=document.createElement("div");return b.appendChild(document.createTextNode(a)),b.innerHTML},d.prototype.htmlDecode=function(a){var b=document.createElement("div");return b.innerHTML=a,b.innerText||b.textContent},d.prototype.classify=function(a,b,c,d,e,f){e=null==e?!0:e,d=this.undef(d,"children");var g,i,j=null,k=null,l={},m=null,n=this;return h.each(a,function(a,e){g=a[b],i=a[c],j=l[g],null==j&&(k=j=l[g]={},k[d]=[],j[c]=g),n.call(this,f,a),m=j[d],m.push(a),a.parent=j,l[i]?a[d]=l[i][d]:(l[i]=a,a[d]=[])}),h.each(a,function(a){"parent"in a&&(delete l[a[c]],e&&delete a.parent)}),l},d.prototype.override=function(a,b,c){a=this.undef(a,{}),b=this.undef(b,{});for(var d,e=this.getKeys(b),g=null,h=0,i=e.length;i>h;h++)g=e[h],d=this.undef(b[g],a[g]),c&&f.isFunction(d)||(a[g]=d);return a},d.prototype.combineURL=function(a,b){return g.format("{0}/{1}",g.trimEnd(a,"/"),g.trimStart(b,"/"))},d.prototype.getStack=function(a){if(a=a||{message:""},a.stack)return a.stack;var b=[a.message],c=arguments.callee;if(c)for(var d=c.caller;d;)b.push("at "+d.toString().split("\n")[0]),d=d.caller;return b.join("\n")},d.prototype.objectPropEqual=function(a,b,c,d){if(null==c)throw new Error("originProp 不能为null");return null!=a&&null!=b&&f.isObject(a)&&f.isObject(b)?(d=3==arguments.length?c:d,e(a[c],b[d])):!1},d.prototype.logicOf=function(a,b,c){var d=!1;switch(c){case"=":d=a==b;break;case"!=":d=a!=b;break;case">":d=a>b;break;case"<":d=b>a;break;case">=":d=a>=b;break;case"<=":d=b>=a}return d}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){function d(){e.apply(this,arguments)}function e(b){if(this.__cookies={},null!=b){var c=null;c=a.type.isString(b)?b:b.cookie,c=c||"";for(var d=null,e=null,g=null,h=c.split(";"),i={},j=0,k=h.length;k>j;j++)d=h[j].split("="),e=a.string.trim(d.shift()),g=decodeURI(f(d.join("="))),i[e.toLowerCase()]=g,a.string.isNullOrWhiteSpace(g)||(this[e]=g);this.__cookies=i||{}}}function f(b){return b=a.string.trimStart(b,'"'),b=a.string.trimEnd(b,'"')}a.CookieParser=d,d.prototype.getCookie=function(a){return a=(a||"").toString().toLowerCase(),this.__cookies[a]},d.prototype.removeCookie=function(a,b){this.setCookie(a,"",-1,b)},d.prototype.setCookie=function(b,c,d,e){a.string.isNullOrWhiteSpace(b)||(a.type.isDate(d)&&(d=d.toGMTString()),b=a.string.trim(b),window.document.cookie=a.string.format("{0}={1};expires={2};path={3}",b,encodeURI(c),d,e||""),this[b]=c,this.__cookies[b.toLowerCase()]=c)},d.prototype.parse=function(a){InitParser.apply(this,a)},d.cookieKeyValues=function(b){b=a.array.ensureArray(b);for(var c=[],d=null,e=0,f=b.length;f>e;e++)d=b[e],c.push(d.split(";")[0]);return c}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(a){i.apply(this,arguments)}function e(a,b){return a&&l.isObject(a)?a[b]:a}function f(a,b){return function(c){return b(c,a)}}function g(b,c){1==arguments.length&&(c=b);var d=a.type,e=function(a,e){return null!=a&&null!=e&&d.isObject(a)&&d.isObject(e)?h(a[b],e[c]):!1};return e}function h(a,b){return null==a||null==b?!1:a==b}function i(b){a.type.isClass(b,d)&&(b=b.items),this.items=k.ensureArray(b)}b.driver(d),a.List=d;var j=a.utils,k=a.array,l=a.type;d.prototype.items=null,d.prototype.addOnly=function(a){this.contains(a)||this.add(a)},d.prototype.add=function(a){this.items.push(a)},d.prototype.addRange=function(b){a.type.isClass(b,d)&&(b=b.items),b=k.ensureArray(b),this.items.push.apply(this.items,b)},d.prototype.each=function(a){return k.each(this.items,a)},d.prototype.contains=function(a){return this.indexOf(a)>-1},d.prototype.includes=function(b,c){var e,h=null,i=null;if(null==c)throw new Error("必须填写比较器,可以是属性名称(例如:id)或者属性对(例如 id:name)或者属性比较器(例如:function(a,b){ return a.id==b.id}");if(a.type.isClass(b,d))h=b.items;else{if(!a.type.isArray(b))return!1;h=b}if(a.type.isFunction(c))i=c;else if(c.toString().indexOf(":")>-1){var j=c.toString().split(":");i=g(j[0],j[1])}else i=g(c.toString());e=h.length>0&&this.size()>0;for(var k=0,l=h.length;l>k;k++)if(this.query(f(h[k],i)).length<1){e=!1;break}return e},d.prototype.slice=function(a,b){return this.items.slice(a,b)},d.prototype.size=function(){return this.items.length},d.prototype.item=function(a){return this.items[a]},d.prototype.splice=function(a,b){return this.items.splice(a,b)},d.prototype.remove=function(a){if(l.isFunction(a))return k.arrayQuerySplice(this.items,a);if(isNaN(a))throw new Error("indexOrHandler only be a number or function");this.items.splice(a,1)},d.prototype.removeItem=function(a){return k.arrayQuerySplice(this.items,function(b){return b==a})},d.prototype.query=function(a){return k.filter(this.items,a)},d.prototype.queryOf=function(a,b,c){return c=j.ifn(c,"="),this.query(function(d){return j.logicOf(e(d,a),b,c)})},d.prototype.queryItem=function(a,b){return b=j.ifn(b,"="),this.query(function(c){return j.logicOf(c,a,b)})},d.prototype.isEmpty=function(){return this.count()<1},d.prototype.indexOf=function(a){return k.indexOf(this.items,a)},d.prototype.queryByValues=function(a,b){return b=k.ensureArray(b),this.query(function(c){return k.contains(b,e(c,a))})},d.prototype.queryByArray=function(a,b){b=k.ensureArray(b);var c=k.valuesArray(b,a);return this.queryByValues(a,c)},d.prototype.toString=function(){var a=this.items||[];return a.toString()},d.prototype.sumOf=function(a){return k.sumOf(this.items,a)},d.prototype.productOf=function(a){return k.productOf(this.items,a)},d.prototype.count=function(){return this.items.length},d.prototype.get=function(a){return this.items[a]},d.prototype.isEmpty=function(){return this.count()<1},d.prototype.pop=function(){return Array.prototype.pop.apply(this.items,arguments)},d.prototype.shift=function(){return Array.prototype.shift.apply(this.items,arguments)},d.prototype.clear=function(){this.items.length=0}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}function e(a){if(a){var b=a(navigator.userAgent||"")||{};this.matched=b.matched,this.version=b.version,this.name=b.name}}function f(a,b){s&&(b=null);var c=new e(b);c.matched&&(s=c),d.prototype[a]=function(a,b){return 1==arguments.length?(b=a,c.matched&&b===c.version):arguments.length>1?c.matched&&m(b,c.version,a):c.matched}}function g(a){var b=a.match(/MSIE\s(\d+\.\d+)/);return null===b&&(b=a.match(/rv:(\d+\.\d+)/)),l("MSIE",b)}function h(a){return l("Firefox",a.match(/Firefox\/(\d+(\.|\d)+)/))}function i(a){return l("Opera",a.match(/OPR\/(\d+(\.|\d)+)/))}function j(a){return l("Safari",a.match(/Safari\/(\d+(\.|\d)+)/))}function k(a){return l("Chrome",a.match(/Chrome\/(\d+(\.|\d)+)/))}function l(a,b){var c=null!==b?b[1]:null;return{version:c,name:a,matched:null!==b}}function m(b,c,d){b=a.utils.ensureDecimal(b,-99),c=a.utils.ensureDecimal(c,-100),d=a.utils.undef(d,"==");var e=!1;switch(d){case">":e=c>b;break;case"<":e=b>c;break;case">=":e=c>=b;break;case"<=":e=b>=c;break;default:e=c===b}return e}function n(){var a=navigator.userAgent,b=a.match(/(iPad).*OS\s([\d_]+)/);return b?{name:"ipad",title:"平板"}:a.match(/AppleWebKit.*Mobile.*/)?{name:"phone",title:"手机"}:{name:"pc",title:"电脑"}}function o(){var a=navigator.userAgent;return a.match(/AppleWebKit.*Mobile.*/)?a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?"ios":a.indexOf("Android")>-1?"android":"other":"pc"}function p(){var a=navigator.userAgent,b=(a.split(";")[0]||"").split("(")[1],c=null;return c=a.match(/AppleWebKit.*Mobile.*/)?a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?{name:"ios",version:b,type:"ios"}:a.indexOf("Android")>-1?{name:"android",version:b,type:"android"}:{name:"other",version:b,type:"other"}:q(b),c.device=n(),c}function q(a){var b=navigator.platform;return"Win32"==b||"Windows"==b?{name:r(a),version:a,type:"windows"}:"Mac68K"==b||"Macintosh"==b||"MacPPC"==b?{name:"Mac",version:a,type:"mac"}:"X11"==b?{name:"Unix",version:a,type:"unix"}:"Linux"==b?{name:"Linux",version:a,type:"linux"}:{name:b,version:a,type:b}}function r(a){return a.indexOf("Windows NT 5.0")>-1||a.indexOf("Windows 2000")>-1?"Win2000":a.indexOf("Windows NT 5.1")>-1||a.indexOf("Windows XP")>-1?"WinXP":a.indexOf("Windows NT 5.2")>-1||a.indexOf("Windows 2003")>-1?"Win2003":a.indexOf("Windows NT 6.0")>-1||a.indexOf("Windows Vista")>-1?"WinVista":a.indexOf("Windows NT 6.1")>-1||a.indexOf("Windows 7")>-1?"Win7":a.indexOf("Windows NT 6.2")>-1||a.indexOf("Windows 8")>-1?"win8":a.indexOf("Windows NT 6.3")>-1||a.indexOf("Windows 8.1")>-1?"win8.1":a.indexOf("Windows NT 6.4")||a.indexOf("Windows NT 10.0")>-1||a.indexOf("Windows 10")>-1?"win10":a}b.driver(d),a.browser=new d,e.prototype.name=null,e.prototype.version=null,e.prototype.matched=!1;var s=null;d.prototype.getCurrent=function(){return s?{name:s.name,version:s.version,equipment:o(),os:p()}:{name:"unknow",version:"nuknow",equipment:"unknow"}},d.prototype.getClassName=function(){var a=this.getCurrent(),b=[];return b.push(a.name),b.push(a.name+"_"+parseInt(a.version)),b.push(a.name+"_"+(a.version||"").replace(/\./g,"_")),b.join(" ").toLowerCase()},d.prototype.mobile=function(a){return 0===arguments.length?navigator.userAgent.match(/AppleWebKit.*Mobile.*/):o()===a},d.prototype.os=function(a){return 1===arguments.length?p().type==a:p()},f("firefox",h),f("ie",g),f("opera",i),f("chrome",k),f("safari",j)}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){this.regHandlers={}}b.driver(d),a.EventEmitterClass=d;var e=(a.utils,a.array),f=a.type;d.prototype.once=function(b,c){if(!a.string.isNullOrWhiteSpace(b)&&a.type.isFunction(c)){var d=this,e=function(){e.called?(d.off(b,e),c=b=d=e=null):(e.called=!0,c.apply(this,arguments))};this.on(b,e)}},d.prototype.on=function(a,b){if(null!==a&&""!==a){var c=this.getListeners(a);"function"==typeof b&&c.push(b)}},d.prototype.off=function(a,b){var c=this.getListeners(a);1===arguments.length?c.length=0:e.arrayQuerySplice(c,function(a){return a===b})},d.prototype.destroy=function(){var a=this.regHandlers||{};for(var b in a)f.isArray(a[b])?a[b].length=0:a[b]=null},d.prototype.getListeners=function(a){if(null===a||""===a)return[];var b=this.regHandlers[a];return null==b&&(b=this.regHandlers[a]=[]),b},d.prototype.emit=function(a,b,c){var d=this.getListeners(a),f=Array.prototype.slice.call(arguments,1),g=null;return e.each(d,function(a){return"function"==typeof a&&(g=a.apply(window,f)),g}),g}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a){function b(a){B.ResourceManager.getInstance().baseUrl=a}function c(a,b){if(C=C||[],w(a))C.push(a);else{var c=new B.JsResource(a,Angel.author);B.ResourceManager.getInstance().parseJsReferences(b,!0,c),C.push(c)}}function d(a){if(C=C||[],C.length<=0)m(a,Angel),e();else{y(a)&&E.push(a);var b=new B.JsResource("","usings");b.setReferences2(C),b.addCall(e),b.go()}}function e(){B.ResourceManager.getInstance().isCompleted()&&f()}function f(){for(var a=E.length-1;a>-1;a--)m(E[a],Angel);E=[];for(var b=0,c=D.length;c>b;b++)m(D[b],window);D=[]}function g(a,b){if(b===!0){var c=k();if(y(a)){var d=c;a.prototype=new d,a.prototype.constructor=a}return c}return a}function h(a,b,c,d){if(a===!0){var e=b||c,f=e,g=new f;null!=d&&c&&c.apply(g,d),b.getInstance=function(){return g}}}function i(a){"function"==typeof a.ClassInit&&a.ClassInit()}function j(){}function k(){return function(){return this.constructor.getInstance?this.constructor.getInstance():void 0}}function l(a,b){if(null!=b&&y(a)&&(w(b)&&(b=t(u(),b)),y(b))){var c=b,d=a.prototype=new c;p(d,o(d)),d.constructor=a}}function m(a,b,c,d){if(y(a)){var e=x(b)?b:this,f=[];return f.push.apply(f,arguments),f.shift(),f.shift(),a.apply(e,f)}}function n(a,b){var c=null;if(a){var d=a.constructor!=Object;if(v(a)){c=[];for(var e=0,f=a.length;f>e;e++)c.push(n(a[e]))}else if(x(a)){c=new a.constructor;var g=null;for(var h in a)g=a[h],y(g)&&d||(x(g)?c[h]=b===!0?n(g,b):g:c[h]=g)}else c=new a.constructor(a.valueOf())}return c}function o(a){var b=[];return r(a,b,function(a,b,c){(x(b)||v(b))&&c.push(a)}),b}function p(a,b){q(b,a,function(a,b,c){c[b]=n(c[b])})}function q(a,b,c){if(v(a)&&y(c)){for(var d=0,e=a.length;e>d&&c(d,a[d],b)!==!0;d++);c=a=null}}function r(a,b,c){if(x(a)&&y(c))for(var d in a)if(c(d,a[d],b)===!0)break}function s(a,b){for(var c=u(),d=(a||"").toString().split("."),e=d.pop(),f=d.shift();f;)c=t(c,f),f=d.shift();return y(b)?c[e]=b:t(c,e)}function t(a,b){var c=a[b];return y(c)||(c=a[b]=function(){}),c}function u(b){return Angel.Env||a}function v(a){return z(a,"Array")}function w(a){return z(a,"String")}function x(a){return z(a,"Object")}function y(a){return z(a,"Function")}function z(a,b){return Object.prototype.toString.call(a)=="[object "+b+"]"}function A(a){return a?""===a.toString().replace(/\s/g,""):!0}function B(){}window.Angel={},window.ResourceUtility={},Angel.author="beven",Angel.version=1;var C=[],D=[],E=[];Angel.build=function(a,e,f,k,n,o,p){C=[],m(f,this,c,b),d(function(){var b=g(n,o);b=s(a,b),l(b,e),b.prototype.ClassInit=j,m(k,this,b.prototype),h(o,b,n,p),i(b.prototype),a=e=f=k=b=n=o=p=null})},Angel.using=function(a,b){B.ResourceManager.getInstance().loadJs(a,b)},Angel.loadResource=function(a,b){var c=a.join(","),d=B.ResourceManager.getInstance().createResource(c);d.addCall(b),d.go()},ResourceUtility.setBaseUrl=function(a){B.ResourceManager.getInstance().tmpBaseUrl=a},ResourceUtility.setTempBasePath=function(a){B.ResourceManager.getInstance().tmpBaseUrl=a},ResourceUtility.createResource=function(a,b,c){return B.ResourceManager.getInstance().createResource(a,b,c)},ResourceUtility.loadJs=function(a,b,c,d){B.ResourceManager.getInstance().loadJs(a,b,c,d)},ResourceUtility.loadCss=function(a,b,c){B.ResourceManager.getInstance().loadCss(a,b,c)},ResourceUtility.loadJs2=function(a,b){B.ResourceManager.getInstance().loadJsGroup(a,b)},ResourceUtility.loadCss2=function(a){B.ResourceManager.getInstance().loadCssGroup(a)},Angel.Env=B,Angel.build("ResourceManager",null,null,function(a){a.loadingUrls=[],a.completedUrls=[],a.version=null,a.baseUrl=null,a.tmpBaseUrl=null,a.isResourced=function(a){var b=new Lsmain.List(this.loadingUrls),c=new Lsmain.List(this.completedUrls),d=this,e=c.query(function(b){return d.equalUrl(a,b)}).length>0;return e||(e=b.query(function(b){return d.equalUrl(a,b)}).length>0),e},a.isCompleted=function(){return this.loadingUrls.length<=0},a.addCompletedSources=function(a){this.removeLoadingResource(a),this.isResourced(a)||this.completedUrls.push(a)},a.addLoadingResources=function(a){this.loadingUrls.push(a)},a.equalUrl=function(a,b){return a=(a||"").replace(/\s/g,"").toLowerCase(),b=(b||"").replace(/\s/g,"").toLowerCase(),a==b},a.removeLoadingResource=function(a){for(var b=this.loadingUrls,c=b.length-1,d=-1,e=c;e>=0;e--)if(this.equalUrl(a,b[e])){d=e;break}d>-1&&b.splice(d,1)},a.log=function(a){Angel.debug&&console&&console.log&&console.log(a)},a.loadJs=function(a,b,c,d){var e=new B.JsResource(a,Angel.author,d);e.addCall(b,c).go()},a.loadCss=function(a,b,c){var d=new B.CssResource(a,Angel.author);d.addCall(b,c).go()},a.loadJsGroup=function(a,b){if(x(a)&&!A(a.uRL)){var c=new B.JsResource(a.uRL,Angel.author,b);c.calls=a.calls,this.parseJsReferences(a.deps,b,c),c.go()}},a.loadCssGroup=function(a){if(x(a)&&!A(a.uRL)){var b=new B.CssResource(a.uRL,Angel.author);b.calls=a.calls,this.parseCssReferences(a.deps,async,b),b.go()}},a.parseJsReferences=function(a,b,c){var d=null;if(w(a)&&!A(a))c.setReference(new B.JsResource(a,Angel.author,b));else if(v(a))for(var e=0,f=a.length;f>e;e++)this.ParseReferences(a[e],b,c);else x(a)&&!A(a.uRL)&&(d=new B.JsResource(a.uRL,Angel.author,b),null==c?c=d:c.setReference(d),d.calls=a.calls,this.ParseReferences(a.deps,b,d));return c},a.parseCssReferences=function(a,b){var c=null;if(w(a)&&!A(a))b.setReference(new B.CssResource(a,Angel.author));else if(v(a))for(var d=0,e=a.length;e>d;d++)this.parseCssReferences(a[d],b);else x(a)&&!A(a.uRL)&&(c=new B.CssResource(a.uRL,Angel.author),null==b?b=c:b.setReference(c),c.calls=a.calls,this.parseCssReferences(a.deps,c));return b},a.createResource=function(a,b,c){if(a=(a||"").toString().replace(/\s/g,""),""===a)return new B.Resource;var d=a.lastIndexOf("."),e=a.lastIndexOf("?"),f=a.substring(d+1,e>-1?e:a.length);switch(f){case"js":return new B.JsResource(a,b||a,c);case"css":return new B.CssResource(a,b);default:return new B.Resource}}},null,!0,[]),Angel.build("Resource",null,null,function(a){a.name="",a.url="",a.sync=!0,a.getPosition=function(){var a=document.getElementsByTagName("head"),b=null;return a=a||[],b=a.length<0?document.body:a[0]},a.global=B.ResourceManager.getInstance(),a.referencer=null,a.completedReferences=[],a.references=[],a.calls=[{data:null,handler:null}],a.addCall=function(a,b){return"function"==typeof a&&this.calls.push({data:b,handler:a}),this},a.getPaths=function(){for(var a=this.global,b=this.url,c=[],d=b.split(","),e=null,f=1==d.length,g=this.isEmpty(a.tmpBaseUrl)?a.baseUrl:a.tmpBaseUrl,h=0,i=d.length;i>h;h++)e=d[h].replace(/\s/g,""),""!==e&&(0===e.indexOf("http://")||0===e.indexOf("https://")?c.push(e):c.push(f?this.combine(g,e):e));return c},a.cacheRender=function(){var a=this.global,b="";return Angel.debug?b="?v="+(new Date).getTime():this.isEmpty(a.version)||(b="?v="+a.version),b},a.combine=function(a,b){return a=(a||"").replace(/\\\\/g,"/"),b=(b||"").replace(/\\\\/g,"/"),"/"!=a[a.length-1]&&(a+="/"),"/"==b[0]&&(b=b.substr(1,b.length)),a+b},a.isEmpty=function(a){return a?""===a.toString().replace(/\s/g,""):!0},a.go=function(){this.doOnStart(),this.references instanceof Array&&this.references.length>0?this.loadReferences():this.loadResource(),this.global.tmpBaseUrl=null},a.clearErrorReferences=function(){var a=this.references;if(a instanceof Array){for(var b=[],c=0,d=a.length;d>c;c++)a[c]instanceof this.constructor&&b.push(a[c]);this.references=b}},a.loadReferences=function(){for(var a=this.references,b=0,c=a.length;c>b;b++)a[b].go()},a.loadResource=function(){var a=this.global,b=this.getPaths();if(b.length>=2){var c=this.references=[];this.completedReferences=[];for(var d=null,e=0,f=b.length;f>e;e++)d=B.ResourceManager.getInstance().createResource(b[e]),d.referencer=this,c.push(d);this.url="",this.go()}else if(1==b.length){var g=b[0];a.isResourced(g)?this.doOnCompleted("(跳过)"+g):(this.global.log("开始加载资源:"+g),a.addLoadingResources(g),this.goResource(g,this.name,this.cacheRender()));
}else this.doOnCompleted("")},a.goResource=function(a,b){},a.doOnStart=function(){},a.doOnCompleted=function(a){if(this.global.log("加载资源:"+a+"完毕"),this.global.addCompletedSources(a),null!=this.referencer){var b=this.referencer,c=b.completedReferences;c.push(this),c.length==b.references.length&&(b.references=null,b.completedReferences=null,b.loadResource())}this.doCalls(),null==this.referencer&&this.destroy()},a.doOnError=function(a){if(this.global.log("加载资源:"+a+"出现错误"),this.global.removeLoadingResource(a),null==this.referencer)this.destroy();else{var b=this.referencer,c=b.completedReferences;c.push(this),c.length==b.references.length&&(b.references=null,b.completedReferences=null,b.loadResource())}this.doCalls()},a.doCalls=function(){var a=this.calls;if(a)for(var b=null,c=0,d=a.length;d>c;c++)b=a[c],"function"==typeof b.handler&&b.handler(b.data)},a.destroy=function(){var a=this.references;if(a)for(var b=0,c=a.length;c>b;b++)a[b].destroy();delete this.calls,delete this.referencer,delete this.references,delete this.doOnStart,delete this.doOnCompleted,delete this.completedReferences},a.setReference=function(a){if(a instanceof this.constructor)a.referencer=this,this.references.push(a);else if("string"==typeof a&&""!==a.toString().replace(/\s/g,"")){var b=this.global.createResource(a,null,this.sync);this.setReference(b)}return this},a.setReferences=function(a,b){for(var c=(this.references,0),d=arguments.length;d>c;c++)this.setReference(arguments[0]);return this},a.setReferences2=function(a){this.references;if(a instanceof Array)for(var b=0,c=a.length;c>b;b++)this.setReference(a[b]);return this},a.init=function(){this.initParts.apply(this,arguments),this.myInit.apply(this,arguments)},a.initParts=function(){this.calls=[],this.completedReferences=[],this.references=[]},a.myInit=function(a,b,c){this.url=a,this.name=b,void 0!==c&&(this.sync=c)}}),Angel.build("JsResource","Resource",null,function(a){a.goResource=function(a,b,c){var d=this.getPosition(),e=document.createElement("script");e.type="text/javascript",e.name=b,e.async=this.sync,this.statusListener(e,a),e.src=a+c,d.appendChild(e)},a.statusListener=function(a,b){if(null!=a){var c=this;a.readyState?a.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||(this.onreadystatechange=null,c.doOnCompleted(b),c=b=null)}:a.onload=function(){this.onload=null,c.doOnCompleted(b),c=b=null},a.onerror=function(){this.onerror=null,c.doOnError(b),c=b=null}}}},function(a,b,c){this.init.apply(this,arguments)}),Angel.build("CssResource","Resource",null,function(a){a.goResource=function(a,b,c){var d=this.getPosition(),e=document.createElement("link");e.type="text/css",e.rel="stylesheet",this.statusListener(e,a),e.href=a+c,d.appendChild(e)},a.statusListener=function(a,b){if(null!=a){var c=this;a.readyState?a.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||(this.onreadystatechange=null,c.doOnCompleted(b),c=b=null)}:a.onload=function(){this.onload=null,c.doOnCompleted(b),c=b=null},a.onerror=function(){this.onerror=null,c.doOnError(b),c=b=null}}}},function(a,b){this.init.apply(this,arguments)}),Angel.Env=a,Angel.setBaseUrl=b,ResourceUtility.setBaseUrl=b}(window),function(a,b,c){"use strict";function d(){}function e(a,b,c){var d=q(a.css("top"),0);a.css({top:-100,opacity:0}),a.animate({top:d,opacity:1},b,"swing",c)}function f(a,b,c){var d=q(a.css("top"),0);a.animate({top:d+o(a),opacity:.5},b,"swing",function(){a.css({top:d}),c()})}function g(a,b,c){var d=q(a.css("left"),0),e=q(a.width(),200);a.css({left:e,opacity:.5}),a.animate({left:d,opacity:1},b,"swing",c)}function h(a,b,c){var d=q(a.css("left"),0),e=q(d-p(a),0);a.animate({left:e,opacity:.5},b,"swing",function(){a.css({left:d}),c()})}function i(a,b,c){var d=q(a.height(),0),e=q(a.css("top"),0);a.css({top:e+d,opacity:.5}),a.animate({top:e,opacity:1},b,"swing",c)}function j(a,b,c){var d=q(a.css("top"),0);a.animate({top:d-o(a),opacity:.5},b,"swing",function(){a.css({top:d}),c()})}function k(a,b,c){var d=q(a.css("left"),0),e=q(d-a.width(),30);a.css({left:e,opacity:.5}),a.animate({left:d,opacity:1},b,"swing",c)}function l(a,b,c){var d=q(a.css("left"),0);a.animate({left:d+p(a),opacity:.5},b,"swing",function(){a.css({left:d}),c()})}function m(a,b,c){var d=a.width(),e=a.height();a.css({width:d/2,height:e/2,opacity:.5}),a.animate({width:d,height:e,opacity:1},b,"swing",c)}function n(a,b,c){var d=a.width()/2,e=a.height()/2;a.animate({width:d,height:e,opacity:.5},b,"swing",c)}function o(a){var b=a.height();return b>150?b=150:0>b&&(b=30),b}function p(a){var b=a.width();return b>150?b=150:0>b&&(b=30),b}function q(a,b){return a=parseInt(a),b=isNaN(b)?0:b,isNaN(a)?b:a}function r(a,b,c,d){d=isNaN(d)?500:d,d=0>d?500:d;b.css("display",""),a(b,d,c)}b.driver(d);var s=a.originAnimation=new d,t=a.utils,u={};d.prototype.playAnimation=function(a,b,c,d){var e=u[b];"function"==typeof e?r(e,jQuery(a),c,d):t.call(this,c)},d.prototype.addAnimation=function(a,b){u[a]=b},d.prototype.getAnimations=function(){return a.utils.getKeys(u)},d.prototype.isOriginAnimation=function(a){var b=u[a];return"function"==typeof b},s.addAnimation("translateFromTop",e),s.addAnimation("translateToBottom",f),s.addAnimation("translateFromRight",g),s.addAnimation("translateToLeft",h),s.addAnimation("translateFromBottom",i),s.addAnimation("translateToTop",j),s.addAnimation("translateFromLeft",k),s.addAnimation("translateToRight",l),s.addAnimation("scaleUpFadeIn",m),s.addAnimation("scaleDownFadeOut",n)}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){function d(a,b,c){return"function"==typeof c.defaultResponseConfirm?c.defaultResponseConfirm(a,b.dataType):!0}function e(a){var b=this,c=arguments[arguments.length-1],d=!1,e=function(){return d=!0,{args:c.cloneArgs,next:function(a){f.call(b,a,c)}}};r.emit("success",a,e),d||f.call(b,a,c)}function f(a,b){this.doCall(i);var c=b.callback,e=b.defaultResult||p.extend({},p.defaultErrorResult);a=null==a?e:a;var f=Array.prototype.slice.call(arguments,1),g=d(a,b,this)?"ok":"error";c(a,g,f)}function g(a,b,c){r.emit("error",a,b,c),this.doCall(i);var d=arguments[arguments.length-1],e=d.callback,f=d.defaultResult||p.defaultErrorResult,g=Array.prototype.slice.call(arguments,0),h=p.extend({},f,{statusCode:a.status});e(h,"error",g)}function h(a,b){p.processLoading&&a&&this.doCall(this.showLoading,b),r.emit("starting")}function i(){this.doCall(this.closeLoading),r.emit("end")}function j(a){for(var b=null,c=null,d=0,e=s.length;e>d;d++)if(b=s[d],b.instance==a){c=b.name;break}return c}function k(a){if(t.indexOf)return t.indexOf(a)>-1;for(var b=!1,c=0,d=t.length;d>c;c++)if(t[c]==a){b=!0;break}return b}function l(a,b){a=a.toLowerCase();var c=j(this),d=k(a);return d?a:c+"_"+a}if(!c.ApiCenter){var m=function(){},n=null;b.driver(m);var o=Lsmain.utils,p=a.api=c.ApiCenter=new m,q=Lsmain.EventEmitterClass,r=new q,s=[],t=["starting","redirect","end","success","error","error-message","setup"],u=c.$;p.processLoading=!0,p.getApis=function(){return s},m.prototype.showLoading=function(a){},m.prototype.closeLoading=function(){},m.prototype.setBaseUri=function(a){n=a},m.prototype.defaultErrorResult={netwrok:"exception",status:-1,message:"接口异常"},m.prototype.defaultResponseConfirm=function(a){return!0},m.prototype.smartCallback=function(a){return a[a.length-1]},m.prototype.regist=function(a,b){if(p[a])throw new Error("exists a api instance of name"+a);b.prototype=new m,b.prototype.constructor=b,delete b.prototype.regist;var c=new b;return p[a]=c,s.push({name:a,instance:c}),c},m.prototype.on=function(a,b){if(""===this.ifn(a,""))throw new Error("event name cannot be null");a=l(a,this),r.on(a,b)},m.prototype.emit=function(a,b,c){var d=Array.prototype.slice.call(arguments,1);return d.unshift(l(a,this)),r.emit.apply(r,d)},m.prototype.extend=function(a,b,c){return u.extend.apply(u,Array.prototype.slice.call(arguments,0))},m.prototype.ifn=function(a,b){if(null==a)return b;if("string"==typeof a){var c=""===a||""===a.replace(/\s/g,"");return c?b:a}return a},m.prototype.getCall=function(a,b){return o.getCall(this,a,b)},m.prototype.doCall=function(a,b,c){var d=o.argumentArray(arguments);return d.unshift(this),o.call.apply(o,d)},m.prototype.getRequest=function(a,b,c,d,e){return this.request(a,b,"GET",c,d,e)},m.prototype.postRequest=function(a,b,c,d,e){return this.request(a,b,"POST",c,d,e)},m.prototype.request=function(b,c,d,f,i,j){i=i||{};var k=this,l={callback:null,api:this,cloneArgs:Array.prototype.slice.apply(arguments),defaultResult:j||this.defaultErrorResult},m=u.extend({},i);return c=r.emit("setup",c)||c,this.doCall(h,i.loading,i.message),m.url=this.getUri(b),m.dataType=this.ifn(i.dataType,f),m.type=this.ifn(d,"GET"),m.success=this.getCall(e,l),m.error=this.getCall(g,l),m.data=c,l.dataType=this.ifn(m.dataType,"json"),this.contentTypeRender(m),new a.Promise(function(a,b){l.callback=function(c,d){"error"==d?(b(c),r.emit("error-message",c)):a(c),k=null,l=null,m=null},u.ajax(m)})},m.prototype.getUri=function(a){return/^https:|http:|\/\//.test(a)?a:(n||"")+a},m.prototype.contentTypeRender=function(b){switch(a.string.trim(b.contentType)){case"application/json":a.type.isObject2(b.data)&&(b.data=JSON.stringify(b.data))}}}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){this.init()}function e(a,b){if(o){var c=document.createElement("div");c.className="customer-console-line "+b,a=(a||"").toString();var d=a.split("\n");a='<p class="">'+d.join("</p><p>")+"</p>",a=a.replace(/\s/g,"&nbsp;"),c.innerHTML=a,p.appendChild(c)}else m.push({message:a,cls:b})}function f(a){a=a||event,a.ctrlKey&&67==a.keyCode&&a.shiftKey&&("none"==o.style.display?o.style.display="":o.style.display="none")}function g(a){h(window,"load",a)}function h(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c):null==a["on"+b]&&(a["on"+b]=c)}function i(a){return l.format.apply(l,a)}b.driver(d);var j=a.utils,k=a.array,l=a.string,m=[],n=c.console,o=null,p=null;d.prototype.init=function(){null==n&&g(function(){o=document.createElement("div"),o.className="customer-console",o.style.display="none";var b=document.createElement("div");p=document.createElement("div"),b.className="customer-console-header",b.innerHTML="链尚网日志控制台",p.className="customer-console-content",o.appendChild(b),o.appendChild(p),document.body.appendChild(o),h(document,"keyup",f),a.UI.Scrollbar.register(p),k.each(m,function(a){e(a.message,a.cls)}),m.length=0}),this.debug=this.info=this.trace=this.log,this.initConsole()},d.prototype.initConsole=function(){null==n&&(c.console=this)},d.prototype.log=function(a,b,c){return a=i(j.argumentArray(arguments)),n?n.log(a):void e(a,"customer-console-log")},d.prototype.error=function(a,b,c){return null!=a?(a=a.stack?a.stack:a.toString(),a=i(j.argumentArray(arguments)),n?n.error(a):void e(a,"customer-console-error")):void 0},a.console=new d}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){function d(){this.refresh()}function e(){var b=document.getElementById("f2eConfiguration");if(b){var c=a.string.trim(b.innerHTML.replace(/&quot;/g,'"').replace(/\n/g," ")),d=["return",a.string.trim(c),";"].join(""),e=Function,f=new e(d),g=f(),h=document.getElementById("localUrl");return h&&(g["f2e-framework.cdnUrl"]=h.value),g}return{}}var f=a.utils;d.prototype.refresh=function(){this.configurationData=e()},d.prototype.get=function(a,b){return f.ifn(this.configurationData[a],b)},d.prototype.urlJoin=function(a,b){return f.combineURL(this.get(a),b)},b.driver(d),a.F2eConfigration=d,a.config=new d}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}function e(){if(null==l){var a={webkit:"webkitAnimationEnd",o:"oAnimationEnd",ms:"MSAnimationEnd"};k=f(),l=a[k]||"animationend"}}function f(){var a=g(document.documentElement)||{},b={webkitAnimationName:"webkit",mozAnimationName:"moz",msAnimationName:"ms",oAnimationName:"o",animation:""},c="";for(var d in b)if(d in a){c=b[d];break}return c}function g(a){return window.getComputedStyle?window.getComputedStyle(a):a.currentStyle}function h(a,b){b=b||"";var c=(b[0]||"").toUpperCase(),d=b.substring(1),e=k+c+d,f=g(a);return f[e]||f[b]}if("undefined"==typeof a.AnimationMiddler){var i=a.utils;b.driver(d),a.animationMiddler=new d;var j=c.$,k=null,l=null;d.prototype.animation=function(b,c,d){if(this.supportCSS3Animation()){var e=this;b.style.display="none",this.addClass(b,c),this.onceAnimationed(b,function(){e.removeClass(b,c),i.call(window,d)}),this.redraw(b)}else b.style.display="",a.originAnimation.playAnimation(b,c,d,200)},d.prototype.animationInOut=function(b,c,d,e){if(this.supportCSS3Animation()){var f=this;b.style.display="none",d&&this.removeClass(b,d),this.addClass(b,c),this.onceAnimationed(b,function(){f.removeClass(b,c),i.call(window,e)}),this.redraw(b)}else a.originAnimation.playAnimation(b,c,e)},d.prototype.onceAnimationed=function(a,b){var c=parseFloat(h(a,"animationDelay")),d=parseFloat(h(a,"animationDuration")),e=!1,f=function(){e||(e=!0,i.call(window,b))},g=1e3*(c+d)+50;j?j(a).one(l,f):a.addEventListener&&a.addEventListener(l,f),setTimeout(f,g)},d.prototype.addClass=function(a,b){if(b=b||"",a&&a.classList){var c=null;b=b.split(" ");for(var d=0,e=b.length;e>d;d++)c=b[d],c&&a.classList.add(c)}},d.prototype.redraw=function(a){if(a){a.offsetHeight;a.style.display=""}},d.prototype.removeClass=function(a,b){if(b=b||"",a&&a.classList){var c=null;b=b.split(" ");for(var d=0,e=b.length;e>d;d++)c=b[d],c&&a.classList.remove(c)}},d.prototype.supportCSS3Animation=function(){var a=g(document.body||document.documentElement);k=k||"";var b=""===k?"animationDuration":k+"AnimationDuration";return b in a},e()}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}function e(a){return function(b){f(b,this,a)}}function f(b,c,d){return b.preventDefault(),d=Number(d),d=isNaN(d)?60:d,c.scrollTop+=a.event.getWheelData(b)<=0?d:-d,!1}b.driver(d),a.event=new d,d.prototype.getOffsetX=function(a){if(a.offsetX)return a.offsetX;var b=evt.target||evt.srcElement;return a.clientX-b.getBoundingClientRect().left},d.prototype.getOffsetY=function(a){if(a.offsetY)return a.offsetY;var b=evt.target||evt.srcElement;return a.clientY-b.getBoundingClientRect().top},d.prototype.getTarget=function(a){return a.target||a.srcElement},d.prototype.stopParentHandler=function(a){a&&(a.cancelBubble=!0,a.stopPropagation())},d.prototype.nameOfMouseWheel=function(){return a.browser.firefox()?"DOMMouseScroll":"mousewheel"},d.prototype.getWheelData=function(a){var b=a.originalEvent;return b?b.wheelDelta?a.originalEvent.wheelDelta/120:a.originalEvent.detail?-(a.originalEvent.detail/3):void 0:0},d.prototype.mouseTriggerOfChild=function(a){var b=a.type,c=null,d=a.currentTarget;switch(b){case"mouseover":c=a.fromElement||a.relatedTarget;break;case"mouseout":c=a.toElement||a.relatedTarget}return this.isChild(c,d)},d.prototype.isChild=function(a,b){return b.contains?b.contains(a):b.compareDocumentPosition?20==b.compareDocumentPosition(a):void 0},d.prototype.customMouseWheel=function(a,b,c){b?$(a).bind(this.nameOfMouseWheel()+"."+b,e(c)):$(a).bind(this.nameOfMouseWheel(),e(c))}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}function e(a,b){var c=null;switch(b){case 1:c=a.data().provider;break;case 2:c=a.attr("name");break;default:c=a.attr("name")||a.data().provider}return c}function f(a,b){return z.zepto?z(g(z(a)[0],b)):z(a).find(b)}function g(a,b){var c=a.id,d=a.id="query____compact___",e="#"+d+" "+b,f=a.querySelectorAll(e),g=[];return a.id=c,g.push.apply(g,f),g}function h(a,b,c,d){var e=n(a);return e.length>0?e.val():null}function i(b,c,d,e,f){var g=n(b);if(1==b.length){var h=b.val();if(!a.string.isNullOrWhiteSpace(b.attr("data-on"))){var i=g.length>0?"data-on":"data-off";return b.attr(i)}return a.string.isNullOrWhiteSpace(h)||"on"==h||"off"==h?b[0].checked:b[0].checked?h:""}var j=[];return g.each(function(){j.push(z(this).val())}),f===!0?j:j.join(",")}function j(a,b,c,d){return a.html()}function k(a,b,c,d){return a.attr(a.attr("data-attribute-name"))}function l(a,b,c,d){return a.val()||a[0].value}function m(a){var b=f(a,"[data-img]"),c=[];return b.each(function(){var a="";a=z(this).is("img")?this.src:z(this).css("background-image").replace("url(","").replace(")",""),w.isNullOrWhiteSpace(a)||c.push(a)}),c}function n(a){return a.filter(function(){return this.checked})}function o(a,b,c,d){a.removeAttr("checked","checked"),a.each(function(){z(this).val()===b&&z(this).attr("checked","checked")})}function p(b,c,d,e){var g=f(g,"input[type='checked']");if(1==b.length){var h=!1,i=b.attr("data-on");return h=a.string.isNullOrWhiteSpace(i)?a.string.isNullOrWhiteSpace(b.attr("value"))?"true"===c.toLowerCase()||"1"===c:b.attr("value")===c||1===c||"1"===c||c===!0:i==c,void(h?b.attr("checked","checked"):b.removeAttr("checked"))}var j=c;x.isArray(j)||(j=(c||"").toString().split(","));for(var k=0,l=b.length;l>k;k++){var m=b.eq(k),n=m.val();j.indexOf(n)>-1?m.attr("checked","checked"):m.removeAttr("checked")}}function q(a,b,c,d){a.html(b)}function r(a,b,c,d){var e=a.attr("data-attribute-name")||"";a.attr(e,b),a.data(e.replace("data-",""),b)}function s(a,b,c,d){a.val(b)}function t(a,b){for(var c,d=f(a,"[data-img]"),e=b||[],g=0,h=e.length;h>g;g++)c=d.eq(g),c.is("img")?c.attr("src",e[g]):c.css("background-image",e[g])}b.driver(d);var u=a.formWR=new d,v=a.utils,w=a.string,x=a.type,y="input[type='submit'],input[type='button'],input[type='image']",z=c.$,A={};d.prototype.fill=function(a,b,c,d){if(null!=b){var e=z(a),g=null,h=null;b=b||{},d=v.ifn(d,"");for(var i in b)if(g=f(e,"input[name='"+i+"'],select[name='"+i+"'],textarea[name='"+i+"'],[data-form][name='"+i+"'],[data-provider='"+i+"']"),g.length>0){if(g.is(y))continue;h=g.attr("name")||g.data().provider,this.getRule(g).fill(g,v.ifn(b[i],d).toString(),h,b)}}},d.prototype.read=function(b,c,d){for(var g,h,i=z(b),j=f(i,"input,select,textarea,[data-form],[data-provider]"),k={},l=null,m=null,n={},o=0,p=j.length;p>o;o++)if(m=j.eq(o),!m.is(y)&&(l=e(m,d),!w.isNullOrWhiteSpace(l)))if(m.is("input[type='checkbox'],input[type='radio']")){if(n[l]===!0)continue;n[l]=!0;var q="input[type='"+m.attr("type")+"'][name='"+l+"'],input[type='"+m.attr("type")+"'][data-provider='"+l+"']";k[l]=this.getRule(m).read(f(i,q),i,l,k,c)}else g=k[l],h=this.getRule(m).read(m,i,l,k,c),a.type.isArray(g)?g.push.apply(g,a.utils.ensureArray(h)):k[l]=h;return k},d.prototype.clear=function(a){var b=z(a);return null==b?null:(b.is("form")?b[0].reset():b.find("input,select,textarea").val(""),void f(b,"[data-label]").html(""))},d.prototype.addRule=function(a){if(null!=a){var b=v.ifn(a.name,"");if(""===b)throw new Error("formwr: rule's name cannot be null or whitespace");if(A[b])throw new Error("formwr: exists  a rule with name ("+b+")");A[b]=a}},d.prototype.getRule=function(a){a=z(a);var b=a.attr("data-form");return null==A[b]&&(b=a.is("input")?a.attr("type"):a[0].nodeName.toLowerCase()),A[b]||A["default"]},u.addRule({name:"radio",read:h,fill:o}),u.addRule({name:"checkbox",read:i,fill:p}),u.addRule({name:":html",read:j,fill:q}),u.addRule({name:"attribute",read:k,fill:r}),u.addRule({name:"default",read:l,fill:s}),u.addRule({name:"imglist",read:m,fill:t})}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}function e(a){return(a||"").toString().replace(/\n/g,"\n")}function f(b){return a.string.isNullOrWhiteSpace(b)===!1}function g(a){a=a||"";var b=a.replace(/\/\*/g,"").replace(/\*\//,"").replace(/\*/g,"").replace(/\n/g,"\n").split("\n");return b=h.filterEmpty(b),a='<p class="comment">'+b.join("</p><p>")+"</p>"}b.driver(d),a.jsCommentsParser=new d;var h=a.array,i=a.List;d.prototype.parse=function(a){a=e(a);var b=this,c=new i;a.replace(/(\/\/.*$)|(\/\*(.|\s)*?\*\/)/g,function(d,f,h,i,j){var k=d.length+j,l=a.substring(k,a.indexOf("\n",k+2)).replace(/\n/g,"");c.add({oriComment:d,name:e(l),comment:g(d),parameters:b.parameters(d)})});var d=a.split("\n");return h.each(d,function(a,b){if(0===a.replace(/\s/g,"").indexOf("//")){var f=d[b+1]||"";c.add({oriComment:a,name:e(f),comment:g(a),parameters:[]})}}),c},d.prototype.parameters=function(a){a=e(a);for(var b=new i(a.split("\n")),c=b.query(function(a){return a.indexOf("@param")>-1}),d=null,g=[],j=0,k=c.length;k>j;j++)d=h.filter(c[j].split(" "),f),g.push({comment:d.slice(2,d.length).join(""),name:e(d[1])});return g},d.prototype.parseMulRemote=function(a,b){var c=0,d=a.length,e=this,f={};h.each(a,function(a){e.parseRemote(a.url,function(e){c++;var g=f[a.name];g?g.addRange(e.items):f[a.name]=e,c>=d&&b(f)})})},d.prototype.parseRemote=function(a,b){var c=this;$.ajax({url:a,dataType:"text",success:function(a){b(c.parse(a))},error:function(){b(null)}})}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(a){this.src=a;var b=document.createElement("div");b.style.display="none",b.innerHTML=h(this.src),this.audio=b.firstElementChild||b.children.item(0),this.target=b,this.hasError=!1,document.body.appendChild(b),e(this)}function e(a){window.Audio?(a.audio.addEventListener("ended",function(){a.emitter.emit("end")}),a.audio.addEventListener("error",function(){a.hasError=!0,a.emitter.emit("error")}),a.audio.addEventListener("loadedmetadata",function(){a.emitter.emit("load",g(a.audio))})):f(a)}function f(a){var b=new Lsmain.Timer(1e3);b.iterator(function(){if(4==a.audio.readyState){var b=a.audio.Duration;return b>0==!1?(a.hasError=!0,a.emitter.emit("error"),!1):(a.emitter.emit("load",g(a.audio)),a.processTimer=Lsmain.Timer.counter(a.audio.Duration),a.processTimer.complete(function(){a.emitter.emit("end")}),a.processTimer.start(),!1)}}),b.start()}function g(a){return{duration:a.duration||a.Duration}}function h(a){var b=null;return b=window.Audio?'<audio src="'+a+'" type="audio/mp3" hidden="true"></audio>':['<object classid="clsid:22D6F312-B0F6-11D0-94AB-0080C74C7E95">','<param name="Src" value="'+a+'" />','<embed src="'+a+'" hidden="true" loop="false"></embed>',"</object>"].join("\n")}Lsmain.browser;d.prototype.emitter=new a.EventEmitterClass,d.prototype.on=function(a,b){return this.emitter.on(a,b),this},d.prototype.start=function(){this.audio&&!this.hasError&&(this.emitter.emit("start"),this.audio.play(),this.processTimer&&this.processTimer.start())},d.prototype.stop=function(){if(this.audio&&!this.hasError){this.emitter.emit("stop");try{this.audio.stop()}catch(a){}}},d.prototype.pause=function(){this.audio&&!this.hasError&&(this.emitter.emit("pause"),this.audio.pause(),this.processTimer&&this.processTimer.stop())},d.prototype.getState=function(){return this.audio?window.Audio?this.audio.paused?1:2:this.audio.playState:void 0},d.prototype.toggle=function(){return 1==this.getState()?(this.start(),!0):(this.pause(),!1)},d.prototype.destroy=function(){this.target&&(this.stop(),this.emitter.emit("destroy"),this.target.parentNode.removeChild(this.target))},a.Audio=d}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){function d(b){if(!a.type.isFunction(b))throw new Error("resolver 必须为函数");if(this.constructor!==d)throw new Error("不允许 劫持调用");this.id=++m,this.status=l.pending,this.value=null,this.reason=null,this.emitter=new a.EventEmitterClass,d.log("create promise with id:"+this.id),f(this,b)}function e(){}function f(a,b){setTimeout(function(){try{b(function(b){a&&a.resolve(b),a=null},function(b){a&&a.reject(b),a=null})}catch(c){a.resolve(c.message),console.error(c.stack)}},10)}function g(b,c,e){a.utils;return d.thenable(c)?i(b,c):e==l.fulfilled?b.resolve(c):b.reject(c),b}function h(a){var b=new d(e);return g(b,a)}function i(b,c){c.then(a.utils.getCall(this,j,b),a.utils.getCall(this,k,b))}function j(a,b){var c=arguments[arguments.length-1];a===c?c.reject(new TypeError("value")):c.resolve(a)}function k(a){var b=arguments[arguments.length-1];b.reject(a)}var l={pending:"pending",fulfilled:"fulfilled",rejected:"rejected"},m=0;a.Promise=d,d.debug=!1,d.log=function(a){d.debug&&console.log(a)},d.prototype.status=l.pending,d.prototype.value=null,d.prototype.reason=null,d.prototype.emitter=null,d.resolve=function(a){return a instanceof d?a:h(a)},d.thenable=function(b){return b&&b.then&&a.type.isFunction(b.then)},d.all=function(b){function c(){j++,j==g&&(i.length<0?f.resolve(h):f.reject(i))}if(!a.type.isArray(b))throw new Error("参数promises 必须为一个Promise对象的数组");var f=new d(e),g=b.length,h=[],i=[],j=0;return a.array.each(b,function(a,b){a.then(function(a){h[b]=a,c()},function(a){i[b]=a,c()})}),f},d.prototype.then=function(a,b){var c=this.nextPromise||(this.nextPromise=new d(e));switch(this.status){case l.pending:this.on(l.fulfilled,a),this.on(l.rejected,b);break;case l.fulfilled:this.call(c,a);break;default:this.call(c,b)}return c},d.prototype.success=function(a){return this.then(a,null)},d.prototype.error=d.prototype["catch"]=function(a){return this.then(e,a)},d.prototype.complete=function(b){return a.type.isFunction(b)?this.then(function(a){return b(null,a)},function(a){return b(a,null)}):void 0},d.prototype.resolve=function(a){if(this.status!==l.pending)throw new Error("Illegal call,only pending status can call");this.status=l.fulfilled,this.value=a;var b=this.nextPromise,c=this.emitter.getListeners(this.status).length;d.log("resolve :"+this.id+" of value"),d.log(a),this.emitter.emit(this.status,a),b&&1>c&&b.resolve(a)},d.prototype.reject=function(a){if(this.status!==l.pending)throw new Error("Illegal call,only pending status can call");this.status=l.rejected,this.reason=a;var b=this.nextPromise,c=this.emitter.getListeners(this.status).length;d.log("rejected :"+this.id+" of reason"),d.log(a),this.emitter.emit(this.status,a),b&&1>c&&b.reject(a)},d.prototype.call=function(b,c){var d=this.status===l.fulfilled,e=d?this.value:this.reason;try{if(b.value=this.value,a.type.isFunction(c)){var f=c(e);this.resolveX(b,f||this.value)}else d?b.resolve(c):b.reject(c)}catch(g){console.error(g.stack),b.reject(g)}},d.prototype.resolveX=function(a,b){if(a===b)a.reject(new TypeError("x"));else if(b instanceof d)switch(b.status){case l.pending:i(a,b);break;case l.fulfilled:a.resolve(b.value);break;default:a.reject(b.reason)}else g(a,b,this.status)},d.prototype.on=function(b,c){var d=this,e=this.nextPromise;a.type.isFunction(c)&&this.emitter.once(b,function(){d.call(e,c)})}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){}b.driver(d),c.TestApplication=new d;var e={};d.prototype.add=function(a,b,c,d){e[[a,b,c].join("-")]=d},d.prototype.get=function(a,b,c){return e[[a,b,c].join("-")]},d.prototype.get2=function(a){return e[a]}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a){"use strict";function b(a){if(isNaN(a)||0>=a)throw new Error("interval 必须为>0的数字  单位为:毫秒");this.wraps(new c(a),["start","stop","on","iterator"])}function c(a){this.id=g++,this.emitter=new Lsmain.EventEmitterClass,this.init.apply(this,arguments)}function d(a){if(isNaN(a)||0>=a)throw new Error("interval 必须为>0的数字");var c=this;c.total=a,c.current=a,this.emitter=new e.EventEmitterClass,c.timer=new b(1e3),c.timer.iterator(function(){return c.iterate()})}var e=a.Lsmain,f=e.BaseClass,g=0;f.driver(b),e.Timer=b,b.interval=function(a){return new b(a)},b.counter=function(a){return new d(a)},c.prototype.timerId=0,c.prototype.id=null,c.prototype.keeping=!1,c.prototype.emitter=null,c.prototype.init=function(a){if(this.interval=a,isNaN(a)||0>=a)throw new Error("interval 必须为>0的数字 单位为:毫秒")},c.prototype.start=function(){this.keeping||(this.keeping=!0,this.stopif(this.emitter.emit("iterator")),this.iterate())},c.prototype.stop=function(){this.keeping=!1,clearTimeout(this.timerId)},c.prototype.iterate=function(a){if(this.keepif()){var b=this;clearTimeout(this.timerId);var c=setTimeout(function(){b.stopif(b.emitter.emit("iterator")),b.iterate()},this.interval);this.timerId=c}},c.prototype.stopif=function(a){a===!1&&this.stop()},c.prototype.keepif=function(){return this.keeping?this.emitter.getListeners("iterator").length>0:!1},c.prototype.iterator=function(a){return this.emitter.on("iterator",a),this.keeping&&(this.keeping=!1,this.start()),this},d.prototype.emitter=null,d.prototype.iterator=function(a){return this.emitter.on("step",a),this},d.prototype.complete=function(a){return this.emitter.on("complete",a),this},d.prototype.start=function(){this.timer.start()},d.prototype.stop=function(){this.timer.stop()},d.prototype.clear=function(){this.stop(),this.current=this.total},d.prototype.iterate=function(){var a=this.current;if(0>=a)return!1;a--;var b=a>0;return this.emitter.emit("step",this.current,this.total),b||this.emitter.emit("complete",this.current,this.total),this.current=a,b}}(window),function(a,b,c){"use strict";function d(){}function e(a){return a==document.body||a==document.documentElement?document.body.scrollTop||document.documentElement.scrollTop:a.scrollTop}function f(a){return a==document.body||a==document.documentElement?document.body.scrollLeft||document.documentElement.scrollLeft:a.scrollLeft}function g(a){for(var b=a.offsetParent,c=a.offsetTop,d=a.offsetLeft;b;)c+=b.offsetTop,d+=b.offsetLeft,b=b.offsetParent;return{top:c,left:d}}b.driver(d),a.uiHelp=new d;var h=null;d.prototype.positionIn=function(a,b,c){var d={noElement:!0,top:b,left:a,right:a+1,bottom:b+1,offsetParent:c};return this.elementIn(d,c)},d.prototype.elementIn=function(a,b){return this.verticalInParent(a,b)&&this.horizonInParent(a,b)},d.prototype.inParentAvaView=function(a){return this.verticalInClientView(a)&&this.horizonInClientView(a)},d.prototype.inClientView=function(a){return this.verticalInClientView(a)&&this.horizonInClientView(a)},d.prototype.verticalInClientView=function(a){if(a===document.body||a===document.documentElement)return!0;var b=(this.getBodyScroll(),this.getBoundingClientRect(window)),c=a.noElement?a:this.getBoundingClientRect(a);return c.top==c.left==c.bottom==c.right?!1:c.top>=0&&c.top<=b.bottom},d.prototype.horizonInClientView=function(a,b){if(a===document.body||a===document.documentElement)return!0;var c=this.getBodyScroll(),d=this.getBoundingClientRect(window),e=a.noElement?a:this.getBoundingClientRect(a);return e.top==e.left==e.bottom==e.right?!1:e.right>=c.left&&e.left<=d.right||e.left>c.left&&e.left<c.right},d.prototype.verticalInParent=function(a,b){var c=b||this.getScrollOffsetParent(a);if(c){var d=c==document.documentElement?document.body:c,e=this.getBoundingClientRect(d),f=a.noElement?a:this.getBoundingClientRect(a);return f.top==f.left==f.bottom==f.right?!1:f.top>=e.top&&f.bottom<=e.bottom}return!1},d.prototype.horizonInParent=function(a,b){var c=b||this.getScrollOffsetParent(a);if(c){var d=c==document.documentElement?document.body:c,e=this.getBoundingClientRect(d),f=a.noElement?a:this.getBoundingClientRect(a);return f.top==f.left==f.bottom==f.right?!1:f.left>=e.left&&f.right<e.right}return!1},d.prototype.verticalFullInClientView=function(a,b){var c=this.getScrollOffsetParent(a);if(c){var d=a.offsetTop,f=d+a.offsetHeight,g=e(c),h=g+c.clientHeight;return f>h?1:g>d?-1:0}return 0},d.prototype.horizonFullInClientView=function(a,b){var c=this.getScrollOffsetParent(a);if(c){var d=a.offsetLeft,e=d+a.offsetWidth,g=f(c),h=g+c.clientWidth;return e>h?1:g>d?-1:0}return 0},d.prototype.scrollIntoHorizonView=function(b,c){var d=0,e=this.getScrollOffsetParent(b),f=this.horizonFullInClientView(b);if(c=a.utils.ensureDecimal(c,0),e&&this.scrollIntoHorizonView(e,c),0!==f){var h=g(b).left,i=new a.UIScrollCompactClass(e);1===f?(d=h+b.clientWidth+c,i.scrollLeft(d)):-1===f&&(d=h-b.clientWidth-c,i.scrollLeft(d))}},d.prototype.scrollIntoVerticalView=function(b,c){var d=this.verticalFullInClientView(b),e=0,f=this.getScrollOffsetParent(b);if(c=a.utils.ensureDecimal(c,0),f&&this.scrollIntoVerticalView(f,c),0!==d){var h=g(b).top,i=new a.UIScrollCompactClass(f);1===d?(e=h+b.clientHeight+c,i.scrollTop(e)):-1===d&&(e=h-b.clientHeight-c,i.scrollTop(e))}},d.prototype.scrollIntoView=function(a,b,c){this.scrollIntoHorizonView(a,b),this.scrollIntoVerticalView(a,c)},d.prototype.scrollParent=function(a){for(var b=a.parentElement,c=null,d="",e="";b;){
if(d=this.cssOf(b,"overflowX"),e=this.cssOf(b,"overflowY"),"auto"==d||"scroll"==d||b===document.documentElement&&"visible"===d){c=b;break}if("auto"==e||"scroll"==e||b===document.documentElement&&"visible"===e){c=b;break}b=b.parentElement}return c},d.prototype.getScrollOffsetParent=function(a){return this.scrollParent(a)||a.offsetParent},d.prototype.getBodyScroll=function(){var a=document.body.scrollTop||document.documentElement.scrollTop,b=document.body.scrollLeft||document.documentElement.scrollLeft;return{top:a,left:b}},d.prototype.getOffsetHeight=function(a){return this.offsetOf(a,"Height")},d.prototype.offsetOf=function(a,b){return null===a||void 0===a?0:a["offset"+b]},d.prototype.getMargin=function(a){var b=0,c=0,d=0,e=0;return a&&(b=this.intCssOf(a,"margin-left"),c=this.intCssOf(a,"margin-right"),d=this.intCssOf(a,"margin-top"),e=this.intCssOf(a,"margin-bottom")),{left:b,top:d,right:c,bottom:e}},d.prototype.getPadding=function(a){var b=0,c=0,d=0,e=0;return a&&(b=this.intCssOf(a,"padding-left"),c=this.intCssOf(a,"padding-right"),d=this.intCssOf(a,"padding-top"),e=this.intCssOf(a,"padding-bottom")),{left:b,top:d,right:c,bottom:e}},d.prototype.getBorder=function(a){var b=0,c=0,d=0,e=0;return a&&(b=this.intCssOf(a,"border-left-width"),c=this.intCssOf(a,"border-right-width"),d=this.intCssOf(a,"border-top-width"),e=this.intCssOf(a,"border-bottom-width")),{left:b,top:d,right:c,bottom:e}},d.prototype.getStyles=function(a){return a.currentStyle?a.currentStyle:window.getComputedStyle?window.getComputedStyle(a):a.style},d.prototype.cssNameOf=function(b){b=b||"";var c=b.split("-"),d=null;c=a.array.filterEmpty(c);for(var e=1,f=c.length;f>e;e++)d=c[e],c[e]=d.substr(0,1).toUpperCase()+d.substr(1,d.length);return c.join("")},d.prototype.cssOf=function(a,b){if(b=b||"",a){var c=this.getStyles(a);return c[b]||c[this.cssNameOf(b)]}},d.prototype.getCssName=function(a){if(h=null==h?this.getPrefix():h,a=a||"",""!==h){var b=(a[0]||"").toUpperCase(),c=a.substring(1);a=h+b+c}return a},d.prototype.getPrefix=function(){var a=this.getStyles(document.documentElement)||{},b={webkitAnimationName:"webkit",mozAnimationName:"moz",msAnimationName:"ms",oAnimationName:"o",animation:""},c="";for(var d in b)if(d in a){c=b[d];break}return c},d.prototype.getWindowHeight=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},d.prototype.getWindowWidth=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},d.prototype.getBoundingClientRect=function(a){return a=a===document?window:a,a===window?this.getWindowBoundingClientRect():this.getDomBoundingClientRect(a)},d.prototype.getWindowBoundingClientRect=function(){return{left:0,top:0,right:this.getWindowWidth(),bottom:this.getWindowHeight()}},d.prototype.getDomBoundingClientRect=function(a){var b=0===a.offsetWidth&&0===a.offsetHeight,c=a.style.width;if(!a.parentElement&&a!=document.documentElement)return{top:0,bottom:0,left:0,right:0};b&&(a.style.width="1px");var d=a.getBoundingClientRect(),e=document.documentElement.clientTop,f=document.documentElement.clientLeft,g={top:d.top-e,bottom:d.bottom-e,left:d.left-f,right:d.right-f};return b&&(a.style.width=c),g},d.prototype.intCssOf=function(a,b,c){var d=null;return c=c||0,a&&(d=parseInt(this.cssOf(a,b))),d=isNaN(d)?c:d},d.prototype.getPbs=function(a){var b={x:0,y:0};if(a){var c=this.getPadding(a),d=this.getBorder(a);b.x=c.left+c.right+d.left+d.right,b.y=c.top+c.bottom+d.top+d.bottom}return b},d.prototype.setClientHeight=function(a,b){if(a){var c=this.getPadding(a),d=this.getBorder(a);b=b-c.top-c.bottom-d.top-d.bottom,b=0>b?0:b,a.style.height=b+"px"}},d.prototype.setClientWidth=function(a,b){if(a){var c=this.getPadding(a),d=this.getBorder(a);b=b-c.left-c.right-d.left-d.right,b=0>b?0:b,a.style.width=b+"px"}},d.prototype.getCursortPosition=function(a){var b=-1;if(a){if("selectionStart"in a)b=a.selectionStart;else if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}}else b=-1;return b},d.prototype.setCursorPosition=function(a,b){if(a&&!(0>b)){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}a.focus()}}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(a){this.parse(a)}b.driver(d);var e=a.string;d.prototype.parse=function(a){a=(a||"").toString().split("#")[0]||"";var b=a.split("?");a=b.shift();for(var c=b.join("?"),d=a.match(/(\w+\:)\/\/(([\w,\-]+(\.|))+)(:\d+|)((\/.+)|)/)||[],e=["href","protocol","host",null,null,"port","pathname"],f=null,g=0,h=e.length;h>g;g++)f=e[g],f&&(this[f]=d[g]||"");d.length<1&&(this.pathname=a),this.url=a,this.port=this.port.replace(":","");var i=(this.pathname||"").split("?");this.search=c||"",this.pathname=i[0],this.parseParams(this.search)},d.prototype.parseParams=function(b){b=b||"",b=a.string.trimStart(b,"?");for(var c=b.split("&"),d=null,e={},f=0,g=c.length;g>f;f++)d=c[f],""!==d&&(d=d.split("="),e[decodeURIComponent(d.shift())]=decodeURIComponent(d.join("=")||""));return this.paras=e,this},d.prototype.bind=function(){for(var a=["href","protocol","host","port","search","pathname"],b=null,c=window.location,d=0,e=a.length;e>d;d++)b=a[d],b&&(this[b]=c[b]);return this.parseParams(this.search),this},d.prototype.toParamString=function(a){var b=this.paras||{},c=[];for(var d in b)a===!0&&e.isNullOrWhiteSpace(b[d])||c.push(d+"="+b[d]);return"?"+c.join("&")},d.prototype.toString=function(b){var c="";a.string.isNullOrWhiteSpace(this.port)||(c=":"+this.port);var d=this.protocol?"//":"";return a.string.format("{0}{1}{2}{3}{4}{5}",this.protocol,d,this.host,c,this.pathname,this.toParamString(b))},a.UrlParserClass=d}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(){this.emitter=new a.EventEmitterClass,this.emitter.validator=this}function e(b,c,d,e,f,g){if(!b)return c;d=a.utils.ifn(d,e);var h=b.validator;if(h.currentMessage=d,!h.slient)if(c)b.emit("valid");else{var i=a.string,j=[d];f=a.array.ensureArray(f),j.push.apply(j,f),j.push((g||"").toString().substring(0,10)),b.emit("invalid",i.format.apply(i,j))}return c}b.driver(d),a.DataValidator=d,a.validator=new d,d.registerRule=function(b,c,f){var g=d.prototype;if(b in g)throw new Error(a.string.format("已存在名称为{0}的校验器",b));if(!a.type.isFunction(c))throw new Error("检验器必须为一个function");g[b]=function(b,d,g,h){var i=c.apply(this,arguments),j=arguments[arguments.length-2],k=a.utils.argumentArray(arguments),l=k.slice(1,arguments.length-1);return e(this.emitter,i,j,f,l,b)}},d.prototype.onInvalid=function(a){this.emitter.on("invalid",a)},d.prototype.onValid=function(a){this.emitter.on("valid",a)},d.prototype.clear=function(){this.emitter.off()},d.prototype.model=function(b,c,d){if(this.currentFormName=null,!a.type.isObject2(b))throw new Error("model参数必须为不为null的object对象");if(!a.type.isObject(b))throw new Error("参数cfg 必须设置");this.slient=d;for(var e,f=a.utils.getKeys(c),g=f.length<1,h=0,i=f.length;i>h&&(e=f[h],g=this.attr(e,b[e],c,b),g);h++);return g&&(this.currentFormName=null),g},d.prototype.attr=function(b,c,d,e){var f=d[b],g=null,h=a.type,i=!0,j=!0;if(this.currentFormName=b,null===f||void 0===f)return!0;var k=a.utils.getKeys(f);if(f.required?i=this.required(c,f.required):f.twoRequired?i=this.twoRequired.apply(this,[c].concat(f.twoRequired)):a.type.isObject2(c)||a.type.isArray(c)||(j=""!==(c||"").toString().replace(/\s/g,"")),!i||!j)return i;for(var l=null,m=0,n=k.length;n>m;m++)if(g=k[m],"required"!==g&&(l=this[g],h.isFunction(l))){var o=[],p=a.array.ensureArray(f[g]);if(o.push(c),o.push.apply(o,p),o.push(e),i=l.apply(this,o),!i||"break"===i)break}return i&&(this.currentFormName=null),i},d.prototype.required=function(b,c){var d=!a.string.isNullOrWhiteSpace(b);return e(this.emitter,d,c,"不能为空",b)},d.prototype.twoRequired=function(b,c,d,f){var g=!a.string.isNullOrWhiteSpace(b),h=c,i=null,j=!1;i=a.type.isFunction(h)?h():(f||{})[c];var k=!a.string.isNullOrWhiteSpace(i);return(g||k)&&(j=!0),e(this.emitter,j,d,"不能为空",b),g?!0:"break"},d.prototype.email=function(a,b){var c=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a);return e(this.emitter,c,b,"请输入有效的电子邮件地址",a)},d.prototype.url=function(a,b){var c=/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a);return e(this.emitter,c,b,"请输入有效的网址",a)},d.prototype.date=function(a,b){var c=!/Invalid|NaN/.test(new Date(a).toString());return e(this.emitter,c,b,"请输入有效的日期",a)},d.prototype.dateISO=function(a,b){var c=/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a);return e(this.emitter,c,b,"请输入有效的日期 (YYYY-MM-DD)",a)},d.prototype.number=function(a,b){var c=/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a,a);return e(this.emitter,c,b,"请输入有效的数字")},d.prototype.digits=function(a,b){var c=/^\d+$/.test(a);return e(this.emitter,c,b,"只能输入数字",a)},d.prototype.creditcard=function(a,b){if(/[^0-9 \-]+/.test(a))return!1;var c,d,f=0,g=0,h=!1;if(a=a.replace(/\D/g,""),a.length<13||a.length>19)return!1;for(c=a.length-1;c>=0;c--)d=a.charAt(c),g=parseInt(d,10),h&&(g*=2)>9&&(g-=9),f+=g,h=!h;var i=f%10===0;return e(this.emitter,i,b,"请输入有效的信用卡号码",a)},d.prototype.minlength=function(a,b,c){var d=(a||"").length>=b;return e(this.emitter,d,c,"最少要输入 {0} 个字符",[b],a)},d.prototype.maxlength=function(a,b,c){var d=(a||"").length<=b;return e(this.emitter,d,c,"最多可以输入 {0} 个字符",[b],a)},d.prototype.rangelength=function(a,b,c,d){var f=(a||"").length,g=f>=b&&c>=f;return e(this.emitter,g,d,"请输入长度在 {0} 到 {1} 之间的字符串",[b,c],a)},d.prototype.min=function(a,b,c){var d=a>=b;return e(this.emitter,d,c,"请输入不小于 {0} 的数值",[b],a)},d.prototype.max=function(a,b,c){var d=b>=a;return e(this.emitter,d,c,"请输入不大于 {0} 的数值",[b],a)},d.prototype.range=function(a,b,c,d){var f=a>=b&&c>=a;return e(this.emitter,f,d,"请输入范围在 {0} 到 {1} 之间的数值",[b,c],a)},d.prototype.mobile=function(a,b){var c=/^1[1-9][0-9]\d{8}$/.test(a);return e(this.emitter,c,b,"请输入有效的手机号码",a)},d.prototype.tel=function(a,b){var c=/^(\d{3,4}-)?\d{7,8}$/.test(a);return e(this.emitter,c,b,"请输入有效的电话号码",a)},d.prototype.equalTo=function(a,b,c,d){d=d||{};var f=d[b],g=null!=a&&a===f;return e(this.emitter,g,c,"值不匹配",a)},d.prototype.minTo=function(a,b,c,d){d=d||{};var f=d[b],g=null!=a&&Number(a)<Number(f);return e(this.emitter,g,c,"{1}不能大于{2}",[g,f],a)},d.prototype.maxTo=function(a,b,c,d){d=d||{};var f=d[b],g=null!=a&&Number(a)>=Number(f);return e(this.emitter,g,c,"{1}不能小于{2}",[g,f],a)},d.prototype.idCard=function(a,b,c){var d=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],f=["1","0","X","9","8","7","6","5","4","3","2"],g=!1;if(15!=a.length||isNaN(a)){if(18==a.length){for(var h=0,i=0,j=d.length;j>i;i++)h+=Number(a[i])*d[i];return f[h%11]===a[17]}g=!1}else g=!0;return e(this.emitter,g,b,"无效的身份证号码",c,a)}}(window.Lsmain,window.Lsmain.BaseClass,window),function(a,b,c){"use strict";function d(a){this.container=this.compactContainer($(a))}a.UIScrollCompactClass=d,d.prototype.scrollLeft=function(a){return 0===arguments.length?this.container.scrollLeft():void this.container.scrollLeft(a)},d.prototype.scrollTop=function(a){return 0===arguments.length?this.container.scrollTop():void this.container.scrollTop(a)},d.prototype.scrollWidth=function(){return this.container[0].scrollWidth},d.prototype.scrollHeight=function(){return this.container[0].scrollHeight},d.prototype.clientWidth=function(){return this.container.is("body")&&this.bodyScrollLeftUseful()?document.documentElement.clientWidth:this.container[0].clientWidth},d.prototype.clientHeight=function(){return this.container.is("body")&&this.bodyScrollLeftUseful()?document.documentElement.clientHeight:this.container[0].clientHeight},d.prototype.compactContainer=function(a){return a.length<=0&&(a=$(document.body)),a.is("html")&&(a=$(document.body)),a.is("body")&&!this.bodyScrollLeftUseful()&&(a=$(document.documentElement)),a},d.prototype.bodyScrollLeftUseful=function(){return a.browser.chrome()?!0:void 0}}(window.Lsmain,window.Lsmain.BaseClass,window);
//# sourceMappingURL=lscore.min.js.map